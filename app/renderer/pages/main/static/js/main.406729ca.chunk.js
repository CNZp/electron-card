(this.webpackJsonpmain=this.webpackJsonpmain||[]).push([[0],{128:function(e,t,a){e.exports=a(251)},133:function(e,t,a){},134:function(e,t,a){},250:function(e,t){e.exports=require("crypto")},251:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),o=(a(133),a(74)),s=a(38),i=(a(134),a(253)),u=a(255),m=Object(n.createContext)({selectType:"",setSelectType:function(){},typeMenus:[],typeCards:[],addCard:function(){},removeCard:function(){}}),p=function(e){var t=Object(n.useContext)(m),a=t.selectType,c=t.setSelectType,l=t.typeMenus;return r.a.createElement(u.a,{mode:"inline",selectedKeys:[a],style:{height:"100%",borderRight:0},onClick:function(e){var t=e.key;c(t)}},l.map((function(e){return r.a.createElement(u.a.Item,{key:e.key,style:{height:"24px",lineHeight:"24px"}},"".concat(e.key," (").concat(e.total,")"))})))},d=a(258),f=a(46),y=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(s.a)(l,2),i=o[0],u=o[1],p=Object(n.useContext)(m),d=p.selectType,y=p.typeCards;p.removeCard;return Object(n.useEffect)((function(){d&&c(0)}),[d]),Object(n.useEffect)((function(){if(y){var e=a;a>=y.length&&(e=y.length-1,c(y.length-1)),u(y[e])}else u(null)}),[y,a]),r.a.createElement(r.a.Fragment,null,i?r.a.createElement("div",{className:"cardBox"},r.a.createElement("div",{className:"typeCard"},r.a.createElement("div",{className:"cardHeader"},r.a.createElement("span",null,i.title)),r.a.createElement("div",{className:"cardContent "},r.a.createElement("span",null,i.content))),r.a.createElement("div",{className:"typeBtnBox"},r.a.createElement(f.a,null,"\u4e0a\u4e00\u5f20"),r.a.createElement(f.a,null,"\u67e5 \u770b"),r.a.createElement(f.a,null,"\u4e0b\u4e00\u5f20"))):"\u6682\u65e0\u5361\u7247")},v=a(254),E=a(256),b=a(257),h=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(m).addCard,o=v.a.useForm(),i=Object(s.a)(o,1)[0];return Object(n.useEffect)((function(){a&&i.resetFields()}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{type:"primary",size:"small",block:!0,onClick:function(){c(!0)}},"\u65b0\u589e\u5361\u7247"),r.a.createElement(E.a,{title:"\u65b0\u589e\u5f00\u7247",visible:a,onOk:function(){i.validateFields().then((function(){var e=i.getFieldsValue();l(e),c(!1)})).catch((function(){}))},onCancel:function(){return c(!1)},forceRender:!0},r.a.createElement(v.a,{initialValues:{},size:"small",form:i},r.a.createElement(v.a.Item,{label:"\u5361\u7247\u7c7b\u578b",labelCol:{span:6},wrapperCol:{span:18},name:"type",rules:[{required:!0,message:"\u4e0d\u53ef\u4e3a\u7a7a"}]},r.a.createElement(b.a,null)),r.a.createElement(v.a.Item,{label:"\u5361\u7247\u6807\u9898",labelCol:{span:6},wrapperCol:{span:18},name:"title",rules:[{required:!0,message:"\u4e0d\u53ef\u4e3a\u7a7a"}]},r.a.createElement(b.a,null)),r.a.createElement(v.a.Item,{label:"\u5361\u7247\u5185\u5bb9",labelCol:{span:6},wrapperCol:{span:18},name:"content",rules:[{required:!0,message:"\u4e0d\u53ef\u4e3a\u7a7a"}]},r.a.createElement(b.a.TextArea,null)))))},g=window.localStorage;var C={get:function(e){if(e){var t=g.getItem(e);try{t&&(t=JSON.parse(t))}catch(a){}return t}},set:function(e,t){e&&(t&&"object"===typeof t&&(t=JSON.stringify(t)),g.setItem(e,t))},remove:function(e){e&&g.removeItem(e)}},O=a(123),j=a.n(O),k=(i.a.Header,i.a.Footer,i.a.Sider),x=i.a.Content;var S=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({types:[],typeToCards:{}}),u=Object(s.a)(l,2),f=u[0],v=u[1],E=Object(n.useState)("\u5168\u90e8"),b=Object(s.a)(E,2),g=b[0],O=b[1];Object(n.useEffect)((function(){var e=C.get("cardData");e&&v(e)}),[]);var S=Object(n.useMemo)((function(){var e=[],t=f.types,a=f.typeToCards;return"\u5168\u90e8"===g?t.map((function(t){e=e.concat(a[t]||[])})):e=e.concat(a[g]||[]),e}),[f,g]),T=Object(n.useMemo)((function(){var e=[],t=0,a=f.types,n=f.typeToCards;return a.map((function(a){var r=(n[a]||[]).length;e.push({key:a,total:r}),t+=r})),e.unshift({key:"\u5168\u90e8",total:t}),e}),[f]),w={selectType:g,setSelectType:O,typeCards:S,typeMenus:T,addCard:function(e){var t=Object(o.a)({},f),a=e.type;e.id=j.a.genV1().toString(),-1===t.types.indexOf(a)&&(t.types.push(a),t.typeToCards[a]=[]),t.typeToCards[a].push(Object(o.a)({},e)),C.set("cardData",t),v(t)},removeCard:function(e){var t=Object(o.a)({},f),a=e.type,n=t.typeToCards[a];if(n){var r=-1;if(n.some((function(t,a){if(t.id===e.id)return r=a,!0})),r>-1&&(n.splice(r,1),0===n.length)){delete t.typeToCards[a];var c=t.types.indexOf(a);c>-1&&t.types.splice(c,1)}}C.set("cardData",t),v(t)}};return r.a.createElement(m.Provider,{value:w},r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{style:{height:"100%"}},r.a.createElement(k,{collapsed:a,collapsedWidth:"0",className:"rollingBox",width:150,style:{height:"100%",background:"#ffffff"}},r.a.createElement(h,null),r.a.createElement("div",{style:{height:"calc(100% -24px"},className:"rollingBox"},r.a.createElement(p,null))),r.a.createElement(i.a,null,r.a.createElement(x,{style:{position:"relative"}},r.a.createElement("div",{className:"collapsedBtn"},r.a.createElement(d.a,{onClick:function(){c((function(e){return!e}))}})),r.a.createElement(y,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[128,1,2]]]);
//# sourceMappingURL=main.406729ca.chunk.js.map