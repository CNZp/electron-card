(this.webpackJsonpmain=this.webpackJsonpmain||[]).push([[0],{218:function(e,t,a){e.exports=a(449)},223:function(e,t,a){},224:function(e,t,a){},443:function(e,t){e.exports=require("crypto")},449:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(11),r=a.n(c),i=(a(223),a(42)),o=a(61),s=a(20),u=(a(224),a(454)),m=a(456),p=a(460),d=Object(n.createContext)({}),f=function(e){var t=Object(n.useContext)(d),a=t.selectType,c=t.setSelectType,r=t.showMenus;return l.a.createElement(p.a,{mode:"inline",selectedKeys:[a],style:{height:"100%",borderRight:0},onClick:function(e){var t=e.key;c(t)}},l.a.createElement("div",{style:{textAlign:"center",marginTop:"20px",marginBottom:"20px",color:"#999999"}},"\u4f7f\u7528\u4e0a\u3001\u4e0b\u952e\u4ee5\u5feb\u901f\u5207\u6362"),r.map((function(e){return l.a.createElement(p.a.Item,{key:e.key,style:{height:"24px",lineHeight:"24px"}},"".concat(e.key," (").concat(e.total,")"))})))},g=a(474),h=a(453),E=a(55),y=a(462),b=a(455),v=a(457),x=a(459),O=a(450),j=a(451),k=a(458),C=a(452),w=a(464),S=a(87),T=a.n(S),F=(a(343),function(e){return l.a.createElement("div",{className:"my-component",style:{border:"1px solid #333333"}},l.a.createElement(T.a,e))}),I=function(e){e.noBlock;var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],r=a[1],o=Object(n.useContext)(d),u=o.addCard,m=o.types,p=o.tags,f=Object(n.useState)(""),g=Object(s.a)(f,2),h=g[0],y=g[1],S=Object(n.useState)(""),I=Object(s.a)(S,2),N=I[0],B=I[1],M=Object(n.useState)([]),D=Object(s.a)(M,2),P=D[0],K=D[1],A=Object(n.useState)([]),R=Object(s.a)(A,2),L=R[0],H=R[1],z=b.a.useForm(),W=Object(s.a)(z,1)[0];Object(n.useEffect)((function(){c&&(W.resetFields(),K(Object(i.a)(m)),H(Object(i.a)(p)))}),[c]);var q=function(){var e=(h+"").trim();if(e){var t=!1;P.some((function(a){if(a===e)return t=!0,!0})),t||K((function(t){return[].concat(Object(i.a)(t),[e])})),y("")}},V=function(){var e=(N+"").trim();if(e){var t=!1;L.some((function(a){if(a===e)return t=!0,!0})),t||H((function(t){return[].concat(Object(i.a)(t),[e])})),B("")}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{icon:l.a.createElement(w.a,null),type:"primary",onClick:function(){r(!0)}},l.a.createElement("b",null,"\u65b0\u589e\u5361\u7247")),l.a.createElement(v.a,{title:"\u65b0\u589e\u5361\u7247",visible:c,onOk:function(){W.validateFields().then((function(){var e=W.getFieldsValue();e.content=e.content.toHTML(),u(e),r(!1)})).catch((function(){}))},onCancel:function(){return r(!1)},forceRender:!0,style:{width:"100%",height:"100%"}},l.a.createElement(b.a,{initialValues:{content:T.a.createEditorState(null)},size:"small",form:W},l.a.createElement(b.a.Item,{label:"\u5361\u7247\u6807\u9898",labelCol:{span:3},wrapperCol:{span:21},name:"title",rules:[{required:!0,message:"\u4e0d\u53ef\u4e3a\u7a7a"}]},l.a.createElement(x.a,{placeholder:"\u8bf7\u8f93\u5165\u5361\u7247\u6807\u9898"})),l.a.createElement(O.a,null,l.a.createElement(j.a,{span:12},l.a.createElement(b.a.Item,{label:"\u5361\u7247\u7c7b\u578b",labelCol:{span:6},wrapperCol:{span:18},name:"type",rules:[{required:!0,message:"\u4e0d\u53ef\u4e3a\u7a7a"}]},l.a.createElement(k.a,{placeholder:"\u8bf7\u9009\u62e9\u6216\u589e\u52a0\u5361\u7247\u7c7b\u578b",dropdownRender:function(e){return l.a.createElement("div",null,e,l.a.createElement(C.a,{style:{margin:"4px 0"}}),l.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",padding:"8px"}},l.a.createElement(x.a,{style:{flex:"auto",height:"24px"},value:h,onChange:function(e){y(e.target.value)},onKeyDown:function(e){e.stopPropagation()},onPressEnter:function(e){q(),e.stopPropagation()}}),l.a.createElement("a",{style:{flex:"none",display:"block",cursor:"pointer",paddingLeft:"8px"},onClick:function(){q()}},l.a.createElement(w.a,null)," \u65b0\u589e\u9879")))}},P.map((function(e){return l.a.createElement(k.a.Option,{key:e,value:e},e)}))))),l.a.createElement(j.a,{span:12},l.a.createElement(b.a.Item,{label:"\u5361\u7247\u6807\u7b7e",labelCol:{span:6},wrapperCol:{span:18},name:"tags"},l.a.createElement(k.a,{mode:"multiple",placeholder:"\u8bf7\u9009\u62e9\u6216\u589e\u52a0\u591a\u4e2a\u5361\u7247\u6807\u7b7e",dropdownRender:function(e){return l.a.createElement("div",null,e,l.a.createElement(C.a,{style:{margin:"4px 0"}}),l.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",padding:8}},l.a.createElement(x.a,{style:{flex:"auto",height:"24px"},value:N,onChange:function(e){B(e.target.value)},onKeyDown:function(e){e.stopPropagation()},onPressEnter:function(e){V(),e.stopPropagation()}}),l.a.createElement("a",{style:{flex:"none",paddingLeft:"8px",display:"block",cursor:"pointer"},onClick:function(){V()}},l.a.createElement(w.a,null)," \u65b0\u589e\u9879")))}},L.map((function(e){return l.a.createElement(k.a.Option,{key:e,value:e},e)})))))),l.a.createElement(b.a.Item,{wrapperCol:{span:24},name:"content"},l.a.createElement(F,{placeholder:"\u8bf7\u8f93\u5165\u5361\u7247\u5185\u5bb9",contentStyle:{height:"200px",fontSize:"14px"}})))))},N=a(466),B=a(467),M=a(468),D=a(469),P=a(470),K=a(471),A=a(465),R=function(e){var t=e.oldCard,a=Object(n.useState)(!1),c=Object(s.a)(a,2),r=c[0],u=c[1],m=Object(n.useContext)(d),p=m.editCard,f=m.types,g=m.tags,h=Object(n.useState)(""),E=Object(s.a)(h,2),y=E[0],S=E[1],I=Object(n.useState)(""),N=Object(s.a)(I,2),B=N[0],M=N[1],D=Object(n.useState)([]),P=Object(s.a)(D,2),K=P[0],R=P[1],L=Object(n.useState)([]),H=Object(s.a)(L,2),z=H[0],W=H[1],q=b.a.useForm(),V=Object(s.a)(q,1)[0];Object(n.useEffect)((function(){r&&(V.resetFields(),R(Object(i.a)(f)),W(Object(i.a)(g)))}),[r]);var J=function(){var e=(y+"").trim();if(e){var t=!1;K.some((function(a){if(a===e)return t=!0,!0})),t||R((function(t){return[].concat(Object(i.a)(t),[e])})),S("")}},U=function(){var e=(B+"").trim();if(e){var t=!1;z.some((function(a){if(a===e)return t=!0,!0})),t||W((function(t){return[].concat(Object(i.a)(t),[e])})),M("")}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(A.a,{style:{color:"#1890ff",marginRight:"5px"},onClick:function(){u(!0)}}),l.a.createElement(v.a,{title:"\u4fee\u6539\u5361\u7247",visible:r,onOk:function(){V.validateFields().then((function(){var e=Object(o.a)(Object(o.a)({},t),V.getFieldsValue());e.content=e.content.toHTML(),e.oldType=t.type,e.oldTags=t.tags,p(e),u(!1)})).catch((function(){}))},onCancel:function(){return u(!1)},forceRender:!0},l.a.createElement(b.a,{initialValues:Object(o.a)(Object(o.a)({},t),{},{content:T.a.createEditorState(t.content)}),size:"small",form:V},l.a.createElement(b.a.Item,{label:"\u5361\u7247\u6807\u9898",labelCol:{span:3},wrapperCol:{span:21},name:"title",rules:[{required:!0,message:"\u4e0d\u53ef\u4e3a\u7a7a"}]},l.a.createElement(x.a,{placeholder:"\u8bf7\u8f93\u5165\u5361\u7247\u6807\u9898"})),l.a.createElement(O.a,null,l.a.createElement(j.a,{span:12},l.a.createElement(b.a.Item,{label:"\u5361\u7247\u7c7b\u578b",labelCol:{span:6},wrapperCol:{span:18},name:"type",rules:[{required:!0,message:"\u4e0d\u53ef\u4e3a\u7a7a"}]},l.a.createElement(k.a,{placeholder:"\u8bf7\u9009\u62e9\u6216\u589e\u52a0\u5361\u7247\u7c7b\u578b",dropdownRender:function(e){return l.a.createElement("div",null,e,l.a.createElement(C.a,{style:{margin:"4px 0"}}),l.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",padding:"8px"}},l.a.createElement(x.a,{style:{flex:"auto",height:"24px"},value:y,onChange:function(e){S(e.target.value)},onKeyDown:function(e){e.stopPropagation()},onPressEnter:function(e){J(),e.stopPropagation()}}),l.a.createElement("a",{style:{flex:"none",display:"block",cursor:"pointer",paddingLeft:"8px"},onClick:function(){J()}},l.a.createElement(w.a,null)," \u65b0\u589e\u9879")))}},K.map((function(e){return l.a.createElement(k.a.Option,{key:e,value:e},e)}))))),l.a.createElement(j.a,{span:12},l.a.createElement(b.a.Item,{label:"\u5361\u7247\u6807\u7b7e",labelCol:{span:6},wrapperCol:{span:18},name:"tags"},l.a.createElement(k.a,{mode:"multiple",placeholder:"\u8bf7\u9009\u62e9\u6216\u589e\u52a0\u591a\u4e2a\u5361\u7247\u6807\u7b7e",dropdownRender:function(e){return l.a.createElement("div",null,e,l.a.createElement(C.a,{style:{margin:"4px 0"}}),l.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",padding:8}},l.a.createElement(x.a,{style:{flex:"auto",height:"24px"},value:B,onChange:function(e){M(e.target.value)},onKeyDown:function(e){e.stopPropagation()},onPressEnter:function(e){U(),e.stopPropagation()}}),l.a.createElement("a",{style:{flex:"none",paddingLeft:"8px",display:"block",cursor:"pointer"},onClick:function(){U()}},l.a.createElement(w.a,null)," \u65b0\u589e\u9879")))}},z.map((function(e){return l.a.createElement(k.a.Option,{key:e,value:e},e)})))))),l.a.createElement(b.a.Item,{wrapperCol:{span:24},name:"content"},l.a.createElement(F,{placeholder:"\u8bf7\u8f93\u5165\u5361\u7247\u5185\u5bb9",contentStyle:{height:"200px",fontSize:"14px"}})))))},L=(a(440),function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),i=Object(s.a)(r,2),o=i[0],u=i[1],m=Object(n.useState)(!0),p=Object(s.a)(m,2),f=p[0],g=p[1],b=Object(n.useContext)(d),v=b.activeKey,x=b.selectType,O=b.selectTag,j=b.searchSelectId,k=b.showCards,C=b.removeCard,w=b.changeMenus;Object(n.useEffect)((function(){x&&c(0)}),[v,x,O,j]),Object(n.useEffect)((function(){if(k){var e=a;a>=k.length&&(e=Math.max(k.length-1,0),c(e)),u(k[e])}else u(null)}),[k,a]);var S=function(e,t){c((function(a){var n=a,l=k.length;return t?n=e?l-1:0:e?++n>=l&&(n=0):--n<0&&(n=Math.max(l-1,0)),n}))},T=Object(n.useRef)();return T.current={changeIndex:S,changeMenus:w},Object(n.useEffect)((function(){var e=function(e){switch(e.keyCode){case 37:T.current.changeIndex(!1,!1);break;case 38:T.current.changeMenus(!1);break;case 39:T.current.changeIndex(!0,!1);break;case 40:T.current.changeMenus(!0)}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),l.a.createElement("div",{style:{width:"100%",height:"100%"},ref:T},o?l.a.createElement("div",{className:"cardBox"},l.a.createElement("div",{className:"typeCard"},l.a.createElement("div",{className:"cardBtnBox"},l.a.createElement(R,{oldCard:o}),l.a.createElement(h.a,{title:"\u786e\u8ba4\u5220\u9664\u672c\u5361\u7247\u5417\uff1f",onConfirm:function(){C(o)},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},l.a.createElement(N.a,{style:{color:"red"}}))),l.a.createElement("div",{className:"cardHeader"},l.a.createElement("span",{className:"title"},o.title),l.a.createElement("span",{className:"type"},l.a.createElement("span",{style:{background:"#1890ff",color:"#ffffff",padding:"0px 3px"}},o.type),(o.tags||[]).map((function(e){return l.a.createElement("span",{key:e,style:{background:"#20A162",color:"#ffffff",marginLeft:"5px",padding:"0px 3px"}},e)})))),l.a.createElement("div",{className:"cardContent"},f?l.a.createElement("span",{className:"content"},l.a.createElement("div",{className:"braft-output-content",dangerouslySetInnerHTML:{__html:o.content}})):l.a.createElement("div",{className:"btnBox"},l.a.createElement(E.a,{type:"link",onClick:function(){g(!0)}},"\u663e\u793a\u5185\u5bb9")))),l.a.createElement("div",{className:"typeBtnBox",style:{justifyContent:"search"==v?"flex-end":"space-between"}},"search"!=v?l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{icon:l.a.createElement(B.a,null),onClick:function(){S(!1,!0)}},"\u5f00\u5934"),l.a.createElement(E.a,{icon:l.a.createElement(M.a,null),onClick:function(){S(!1,!1)}},"\u524d\u4e00\u5f20\uff08\u5de6\u952e\uff09"),l.a.createElement("span",{style:{lineHeight:"32px",fontWeight:"bold"}},"(",a+1,"/",k.length,")"),l.a.createElement(E.a,{icon:l.a.createElement(D.a,null),onClick:function(){S(!0,!1)}},"\u540e\u4e00\u5f20\uff08\u53f3\u952e\uff09"),l.a.createElement(E.a,{icon:l.a.createElement(P.a,null),onClick:function(){S(!0,!0)}},"\u7ed3\u5c3e")):"",l.a.createElement(I,null))):l.a.createElement("div",null,l.a.createElement(y.a,{icon:l.a.createElement(K.a,null),title:"\u6682\u65e0\u5361\u7247",extra:l.a.createElement(I,{noBlock:!0})}),","))}),H=window.localStorage;var z={get:function(e){if(e){var t=H.getItem(e);try{t&&(t=JSON.parse(t))}catch(a){}return t}},set:function(e,t){e&&(t&&"object"===typeof t&&(t=JSON.stringify(t)),H.setItem(e,t))},remove:function(e){e&&H.removeItem(e)}},W=a(209),q=a.n(W),V=function(e){var t=Object(n.useContext)(d),a=t.searchSelectId,c=t.setSearchSelectId,r=t.showMenus,i=Object(n.useContext)(d).setSearchText;return Object(n.useEffect)((function(){if(a){var e=!1;r.some((function(t){if(t.key===a)return e=!0,!0})),e||c(null)}else r.length&&c(r[0].key)}),[r]),l.a.createElement(l.a.Fragment,null,l.a.createElement(x.a.Search,{size:"small",style:{margin:"10px 0px"},placeholder:"\u8bf7\u8f93\u5165\u5f85\u641c\u7d22\u6807\u9898",onSearch:function(e){return i(e)},enterButton:!0}),l.a.createElement(p.a,{mode:"inline",selectedKeys:[a],style:{height:"100%",borderRight:0},onClick:function(e){var t=e.key;c(t)}},r.length?l.a.createElement(l.a.Fragment,null,r.map((function(e){return l.a.createElement(p.a.Item,{key:e.key,style:{height:"24px",lineHeight:"24px"}},e.value)}))):l.a.createElement("div",{style:{textAlign:"center",marginTop:"20px",color:"#999999"}},"\u65e0\u5339\u914d\u5361\u7247")))},J=function(e){var t=Object(n.useContext)(d),a=t.selectTag,c=t.setSelectTag,r=t.showMenus;return l.a.createElement(p.a,{mode:"inline",selectedKeys:[a],style:{height:"100%",borderRight:0},onClick:function(e){var t=e.key;c(t)}},l.a.createElement("div",{style:{textAlign:"center",marginTop:"20px",marginBottom:"20px",color:"#999999"}},"\u4f7f\u7528\u4e0a\u3001\u4e0b\u952e\u4ee5\u5feb\u901f\u5207\u6362"),r.map((function(e){return l.a.createElement(p.a.Item,{key:e.key,style:{height:"24px",lineHeight:"24px"}},"".concat(e.key," (").concat(e.total,")"))})))},U=a(461),_=function(e){var t=e.color,a=e.url,n=e.name;return l.a.createElement("div",{className:"utilItem",onClick:function(){if(a){var e=a;"http"!==a.substring(0,4)&&(e="http://"+e);var t=n+(1e6*Math.random()).toFixed(0);window.open(e,t,"height=800, width=1300")}}},l.a.createElement(U.a,{size:64,style:{margin:"0 auto",backgroundColor:t||"#1890ff"}},n))},Y=function(){var e=Object(n.useContext)(d).utils;return l.a.createElement("div",{style:{height:"100%",padding:"10px"}},l.a.createElement(O.a,null,e.length?l.a.createElement(l.a.Fragment,null,e.map((function(e){return l.a.createElement(j.a,{span:12},l.a.createElement(_,e))}))):l.a.createElement("div",{style:{textAlign:"center",marginTop:"20px",width:"100%",color:"#999999"}},"\u6682\u65e0\u53ef\u7528\u5de5\u5177")))},$=a(463),G=a(472),Q=a(473),X=[{value:"#1890ff",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#1890ff",marginTop:"3px"}})},{value:"#ED5A65",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#ED5A65",marginTop:"3px"}})},{value:"#EC7696",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#EC7696",marginTop:"3px"}})},{value:"#AD6598",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#AD6598",marginTop:"3px"}})},{value:"#815C94",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#815C94",marginTop:"3px"}})},{value:"#1BA784",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#1BA784",marginTop:"3px"}})},{value:"#96C24E",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#96C24E",marginTop:"3px"}})},{value:"#FFC90C",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#FFC90C",marginTop:"3px"}})},{value:"#FFA60F",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#FFA60F",marginTop:"3px"}})},{value:"#F97D1C",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#F97D1C",marginTop:"3px"}})},{value:"#603D30",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#603D30",marginTop:"3px"}})},{value:"#847C74",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#847C74",marginTop:"3px"}})}],Z=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useContext)(d),i=r.utils,o=r.saveUtils,u=b.a.useForm(),m=Object(s.a)(u,1)[0];Object(n.useEffect)((function(){a&&m.resetFields()}),[a]);return l.a.createElement("div",{style:{width:"100%",height:"100%"}},l.a.createElement("div",null,l.a.createElement(y.a,{icon:l.a.createElement(G.a,null),title:"\u70b9\u51fb\u83dc\u5355\u680f\u5de5\u5177\u4ee5\u8df3\u8f6c",extra:[l.a.createElement(E.a,{type:"primary",key:"console",onClick:function(){return c(!0)}},"\u5de5\u5177\u7ba1\u7406")]})),l.a.createElement(v.a,{title:"\u5de5\u5177\u7ba1\u7406",visible:a,onOk:function(){m.validateFields().then((function(){var e=m.getFieldsValue();o(e),c(!1)})).catch((function(){}))},onCancel:function(){return c(!1)},forceRender:!0,style:{width:"100%",height:"100%"}},l.a.createElement(b.a,{className:"utilManage",initialValues:{utils:i},size:"small",form:m},l.a.createElement(b.a.List,{name:"utils"},(function(e,t){var a=t.add,n=t.remove;return l.a.createElement("div",{style:{height:"420px"}},l.a.createElement("div",{style:{maxHeight:"370px",overflowY:"auto"}},e.map((function(e){return l.a.createElement($.b,{key:e.key,style:{display:"flex"},align:"start"},l.a.createElement(b.a.Item,Object.assign({},e,{label:"\u5de5\u5177\u540d\u79f0",name:[e.name,"name"],fieldKey:[e.fieldKey,"name"],rules:[{required:!0,message:"\u4e0d\u53ef\u4e3a\u7a7a"}]}),l.a.createElement(x.a,{style:{width:"120px"},placeholder:"\u8bf7\u8f93\u5165"})),l.a.createElement(b.a.Item,Object.assign({},e,{label:"\u94fe\u63a5\u5730\u5740",name:[e.name,"url"],fieldKey:[e.fieldKey,"url"],rules:[{required:!0,message:"\u4e0d\u53ef\u4e3a\u7a7a"}]}),l.a.createElement(x.a,{style:{width:"320px"},placeholder:"\u8bf7\u8f93\u5165"})),l.a.createElement(b.a.Item,Object.assign({},e,{label:"\u56fe\u6807\u989c\u8272",name:[e.name,"color"],fieldKey:[e.fieldKey,"color"]}),l.a.createElement(k.a,{style:{width:"120px"},placeholder:"\u8bf7\u9009\u62e9",options:X})),l.a.createElement(Q.a,{onClick:function(){n(e.name)}}))}))),l.a.createElement(b.a.Item,null,l.a.createElement(E.a,{type:"dashed",onClick:function(){a()},block:!0},l.a.createElement(w.a,null)," \u65b0\u589e\u5de5\u5177")))})))))},ee=(u.a.Header,u.a.Footer,u.a.Sider),te=u.a.Content;var ae=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({types:[],tags:[],cards:[]}),p=Object(s.a)(r,2),h=p[0],E=p[1],y=Object(n.useState)([]),b=Object(s.a)(y,2),v=b[0],x=b[1],O=Object(n.useState)("type"),j=Object(s.a)(O,2),k=j[0],C=j[1],w=Object(n.useState)("\u5168\u90e8"),S=Object(s.a)(w,2),T=S[0],F=S[1],I=Object(n.useState)("\u5168\u90e8"),N=Object(s.a)(I,2),B=N[0],M=N[1],D=Object(n.useState)(null),P=Object(s.a)(D,2),K=P[0],A=P[1],R=Object(n.useState)(null),H=Object(s.a)(R,2),W=H[0],U=H[1];Object(n.useEffect)((function(){var e=z.get("cardData2");e&&E(e);var t=z.get("utilData2");t&&x(t)}),[]);var _=Object(n.useMemo)((function(){var e=[],t=(h.types,h.tags,h.cards);return"type"===k?"\u5168\u90e8"===T?e=Object(i.a)(t):t.map((function(t){t.type===T&&e.push(t)})):"tag"===k?"\u5168\u90e8"===B?e=Object(i.a)(t):t.map((function(t){t.tags&&t.tags.indexOf(B)>-1&&e.push(t)})):"search"===k&&W&&t.some((function(t){if(t.id===W)return e.push(t),!0})),e}),[h,k,T,B,K,W]),$=Object(n.useMemo)((function(){var e=[],t=h.types,a=h.tags,n=h.cards;if("type"===k){if(t.length){var c={};t.map((function(e){c[e]=0})),n.map((function(e){"number"===typeof c[e.type]&&c[e.type]++})),t.map((function(t){e.push({key:t,total:c[t]})}))}e.unshift({key:"\u5168\u90e8",total:n.length})}else if("tag"===k){if(a.length){var r={};a.map((function(e){r[e]=0})),n.map((function(e){e.tags&&e.tags.map((function(e){"number"===typeof r[e]&&r[e]++}))})),a.map((function(t){e.push({key:t,total:r[t]})}))}e.unshift({key:"\u5168\u90e8",total:n.length})}else"search"===k&&K&&n.map((function(t){if(t.title.indexOf(K)>-1){var a=t.title.split(K);e.unshift({key:t.id,value:l.a.createElement("span",null,a.map((function(e,t){return t===a.length-1?e:l.a.createElement(l.a.Fragment,null,e,l.a.createElement("span",{style:{color:"#1890ff"}},K))})))})}}));return e}),[h,k,K]),G={selectType:T,setSelectType:F,selectTag:B,setSelectTag:M,searchText:K,setSearchText:A,searchSelectId:W,setSearchSelectId:U,activeKey:k,types:h.types,tags:h.tags,showCards:_,showMenus:$,utils:v,addCard:function(e){var t=Object(o.a)({},h),a=e.type;e.id=q.a.genV1().toString(),-1===t.types.indexOf(a)&&t.types.push(a),e.tags&&e.tags.map((function(e){-1===t.tags.indexOf(e)&&t.tags.push(e)})),t.cards.push(Object(o.a)({},e)),z.set("cardData2",t),E(t)},editCard:function(e){var t=Object(o.a)({},h),a=e.id,n=e.oldType,l=Object(i.a)(e.oldTags||[]);t.cards.some((function(n){if(n.id===a)return n.title=e.title,n.type=e.type,n.tags=e.tags,e.tags&&e.tags.map((function(e){-1===t.tags.indexOf(e)&&t.tags.push(e)})),n.content=e.content,!0}));var c=!1;if(t.cards.some((function(e){if(e.type===n)return c=!0,!0})),!c){var r=t.types.indexOf(n);r>-1&&t.types.splice(r,1)}l&&l.map((function(e){var a=!1;if(t.cards.some((function(t){if(t.tags&&t.tags.indexOf(e)>-1)return a=!0,!0})),!a){var n=t.tags.indexOf(e);n>-1&&t.tags.splice(n,1)}})),z.set("cardData2",t),E(t)},removeCard:function(e){var t=Object(o.a)({},h),a=e.type,n=Object(i.a)(e.tags||[]),l=t.cards,c=-1;if(l.some((function(t,a){if(t.id===e.id)return c=a,!0})),c>-1){l.splice(c,1);var r=!1;if(l.map((function(e){if(e.type===a)return r=!0,!0})),!r){var s=t.types.indexOf(a);s>-1&&t.types.splice(s,1),F("\u5168\u90e8")}n&&(n.map((function(e){var a=!1;if(t.cards.some((function(t){if(t.tags&&t.tags.indexOf(e)>-1)return a=!0,!0})),!a){var n=t.tags.indexOf(e);n>-1&&t.tags.splice(n,1)}})),M("\u5168\u90e8"))}z.set("cardData2",t),E(t)},changeMenus:function(e){if("type"===k){var t=-1;$.some((function(e,a){if(e.key===T)return t=a,!0})),t>-1&&(e?(t++,t%=$.length):--t<0&&(t+=$.length),F($[t].key))}else if("tag"===k){var a=-1;$.some((function(e,t){if(e.key===B)return a=t,!0})),a>-1&&(e?(a++,a%=$.length):--a<0&&(a+=$.length),M($[a].key))}else if("search"===k){var n=-1;$.some((function(e,t){if(e.key===W)return n=t,!0})),n>-1&&(e?(n++,n%=$.length):--n<0&&(n+=$.length),U($[n].key))}},saveUtils:function(e){var t=e.utils;z.set("utilData2",t),x(t)}};return l.a.createElement(d.Provider,{value:G},l.a.createElement("div",{className:"App"},l.a.createElement(u.a,{style:{height:"100%"}},l.a.createElement(ee,{collapsed:a,collapsedWidth:"0",className:"rollingBox",width:200,style:{height:"100%",background:"#ffffff",overflow:"hidden"}},l.a.createElement(m.a,{activeKey:k,type:"card",size:"small",onChange:C},l.a.createElement(m.a.TabPane,{tab:"\u5206\u7c7b",key:"type"},l.a.createElement("div",{style:{height:"calc(100vh - 34px)",padding:"0px 10px"},className:"rollingBox"},l.a.createElement(f,null))),l.a.createElement(m.a.TabPane,{tab:"\u6807\u7b7e",key:"tag"},l.a.createElement("div",{style:{height:"calc(100vh - 34px)",padding:"0px 10px"},className:"rollingBox"},l.a.createElement(J,null))),l.a.createElement(m.a.TabPane,{tab:"\u67e5\u8be2",key:"search"},l.a.createElement("div",{style:{height:"calc(100vh - 34px)",padding:"0px 10px"},className:"rollingBox"},l.a.createElement(V,null))),l.a.createElement(m.a.TabPane,{tab:"\u5de5\u5177",key:"util"},l.a.createElement("div",{style:{height:"calc(100vh - 34px)",padding:"0px 10px"},className:"rollingBox"},l.a.createElement(Y,null))))),l.a.createElement(u.a,null,l.a.createElement(te,{style:{position:"relative"}},l.a.createElement("div",{className:"collapsedBtn"},l.a.createElement(g.a,{onClick:function(){c((function(e){return!e}))}})),"util"===k?l.a.createElement(Z,null):l.a.createElement(L,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[218,1,2]]]);
//# sourceMappingURL=main.776ec226.chunk.js.map