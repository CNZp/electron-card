(this.webpackJsonpmain=this.webpackJsonpmain||[]).push([[0],{196:function(e,t){e.exports=require("electron")},219:function(e,t,a){e.exports=a(450)},224:function(e,t,a){},225:function(e,t,a){},444:function(e,t){e.exports=require("crypto")},450:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(11),r=a.n(c),i=(a(224),a(42)),o=a(61),s=a(20),u=(a(225),a(196)),m=a(455),p=a(457),d=a(461),f=Object(n.createContext)({}),g=function(e){var t=Object(n.useContext)(f),a=t.selectType,c=t.setSelectType,r=t.showMenus;return l.a.createElement(d.a,{mode:"inline",selectedKeys:[a],style:{height:"100%",borderRight:0},onClick:function(e){var t=e.key;c(t)}},l.a.createElement("div",{style:{textAlign:"center",marginTop:"20px",marginBottom:"20px",color:"#999999"}},"\u4f7f\u7528\u4e0a\u3001\u4e0b\u952e\u4ee5\u5feb\u901f\u5207\u6362"),r.map((function(e){return l.a.createElement(d.a.Item,{key:e.key,style:{height:"24px",lineHeight:"24px"}},"".concat(e.key," (").concat(e.total,")"))})))},h=a(475),E=a(454),y=a(55),b=a(463),v=a(456),x=a(458),O=a(460),j=a(451),k=a(452),C=a(459),w=a(453),S=a(465),T=a(87),F=a.n(T),I=(a(344),function(e){return l.a.createElement("div",{className:"my-component",style:{border:"1px solid #333333"}},l.a.createElement(F.a,e))}),N=function(e){e.noBlock;var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],r=a[1],o=Object(n.useContext)(f),u=o.addCard,m=o.types,p=o.tags,d=Object(n.useState)(""),g=Object(s.a)(d,2),h=g[0],E=g[1],b=Object(n.useState)(""),T=Object(s.a)(b,2),N=T[0],B=T[1],D=Object(n.useState)([]),M=Object(s.a)(D,2),P=M[0],K=M[1],A=Object(n.useState)([]),R=Object(s.a)(A,2),W=R[0],L=R[1],H=v.a.useForm(),q=Object(s.a)(H,1)[0];Object(n.useEffect)((function(){c&&(q.resetFields(),K(Object(i.a)(m)),L(Object(i.a)(p)))}),[c]);var z=function(){var e=(h+"").trim();if(e){var t=!1;P.some((function(a){if(a===e)return t=!0,!0})),t||K((function(t){return[].concat(Object(i.a)(t),[e])})),E("")}},V=function(){var e=(N+"").trim();if(e){var t=!1;W.some((function(a){if(a===e)return t=!0,!0})),t||L((function(t){return[].concat(Object(i.a)(t),[e])})),B("")}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{icon:l.a.createElement(S.a,null),type:"primary",onClick:function(){r(!0)}},l.a.createElement("b",null,"\u65b0\u589e\u5361\u7247")),l.a.createElement(x.a,{title:"\u65b0\u589e\u5361\u7247",visible:c,onOk:function(){q.validateFields().then((function(){var e=q.getFieldsValue();e.content=e.content.toHTML(),u(e),r(!1)})).catch((function(){}))},onCancel:function(){return r(!1)},forceRender:!0,style:{width:"100%",height:"100%"}},l.a.createElement(v.a,{initialValues:{content:F.a.createEditorState(null)},size:"small",form:q},l.a.createElement(v.a.Item,{label:"\u5361\u7247\u6807\u9898",labelCol:{span:3},wrapperCol:{span:21},name:"title",rules:[{required:!0,message:"\u4e0d\u53ef\u4e3a\u7a7a"}]},l.a.createElement(O.a,{placeholder:"\u8bf7\u8f93\u5165\u5361\u7247\u6807\u9898"})),l.a.createElement(j.a,null,l.a.createElement(k.a,{span:12},l.a.createElement(v.a.Item,{label:"\u5361\u7247\u7c7b\u578b",labelCol:{span:6},wrapperCol:{span:18},name:"type",rules:[{required:!0,message:"\u4e0d\u53ef\u4e3a\u7a7a"}]},l.a.createElement(C.a,{placeholder:"\u8bf7\u9009\u62e9\u6216\u589e\u52a0\u5361\u7247\u7c7b\u578b",dropdownRender:function(e){return l.a.createElement("div",null,e,l.a.createElement(w.a,{style:{margin:"4px 0"}}),l.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",padding:"8px"}},l.a.createElement(O.a,{style:{flex:"auto",height:"24px"},value:h,onChange:function(e){E(e.target.value)},onKeyDown:function(e){e.stopPropagation()},onPressEnter:function(e){z(),e.stopPropagation()}}),l.a.createElement("a",{style:{flex:"none",display:"block",cursor:"pointer",paddingLeft:"8px"},onClick:function(){z()}},l.a.createElement(S.a,null)," \u65b0\u589e\u9879")))}},P.map((function(e){return l.a.createElement(C.a.Option,{key:e,value:e},e)}))))),l.a.createElement(k.a,{span:12},l.a.createElement(v.a.Item,{label:"\u5361\u7247\u6807\u7b7e",labelCol:{span:6},wrapperCol:{span:18},name:"tags"},l.a.createElement(C.a,{mode:"multiple",placeholder:"\u8bf7\u9009\u62e9\u6216\u589e\u52a0\u591a\u4e2a\u5361\u7247\u6807\u7b7e",dropdownRender:function(e){return l.a.createElement("div",null,e,l.a.createElement(w.a,{style:{margin:"4px 0"}}),l.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",padding:8}},l.a.createElement(O.a,{style:{flex:"auto",height:"24px"},value:N,onChange:function(e){B(e.target.value)},onKeyDown:function(e){e.stopPropagation()},onPressEnter:function(e){V(),e.stopPropagation()}}),l.a.createElement("a",{style:{flex:"none",paddingLeft:"8px",display:"block",cursor:"pointer"},onClick:function(){V()}},l.a.createElement(S.a,null)," \u65b0\u589e\u9879")))}},W.map((function(e){return l.a.createElement(C.a.Option,{key:e,value:e},e)})))))),l.a.createElement(v.a.Item,{wrapperCol:{span:24},name:"content"},l.a.createElement(I,{placeholder:"\u8bf7\u8f93\u5165\u5361\u7247\u5185\u5bb9",contentStyle:{height:"200px",fontSize:"14px"}})))))},B=a(467),D=a(468),M=a(469),P=a(470),K=a(471),A=a(472),R=a(466),W=function(e){var t=e.oldCard,a=Object(n.useState)(!1),c=Object(s.a)(a,2),r=c[0],u=c[1],m=Object(n.useContext)(f),p=m.editCard,d=m.types,g=m.tags,h=Object(n.useState)(""),E=Object(s.a)(h,2),y=E[0],b=E[1],T=Object(n.useState)(""),N=Object(s.a)(T,2),B=N[0],D=N[1],M=Object(n.useState)([]),P=Object(s.a)(M,2),K=P[0],A=P[1],W=Object(n.useState)([]),L=Object(s.a)(W,2),H=L[0],q=L[1],z=v.a.useForm(),V=Object(s.a)(z,1)[0];Object(n.useEffect)((function(){r&&(V.resetFields(),A(Object(i.a)(d)),q(Object(i.a)(g)))}),[r]);var J=function(){var e=(y+"").trim();if(e){var t=!1;K.some((function(a){if(a===e)return t=!0,!0})),t||A((function(t){return[].concat(Object(i.a)(t),[e])})),b("")}},U=function(){var e=(B+"").trim();if(e){var t=!1;H.some((function(a){if(a===e)return t=!0,!0})),t||q((function(t){return[].concat(Object(i.a)(t),[e])})),D("")}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(R.a,{style:{color:"#1890ff",marginRight:"5px"},onClick:function(){u(!0)}}),l.a.createElement(x.a,{title:"\u4fee\u6539\u5361\u7247",visible:r,onOk:function(){V.validateFields().then((function(){var e=Object(o.a)(Object(o.a)({},t),V.getFieldsValue());e.content=e.content.toHTML(),e.oldType=t.type,e.oldTags=t.tags,p(e),u(!1)})).catch((function(){}))},onCancel:function(){return u(!1)},forceRender:!0},l.a.createElement(v.a,{initialValues:Object(o.a)(Object(o.a)({},t),{},{content:F.a.createEditorState(t.content)}),size:"small",form:V},l.a.createElement(v.a.Item,{label:"\u5361\u7247\u6807\u9898",labelCol:{span:3},wrapperCol:{span:21},name:"title",rules:[{required:!0,message:"\u4e0d\u53ef\u4e3a\u7a7a"}]},l.a.createElement(O.a,{placeholder:"\u8bf7\u8f93\u5165\u5361\u7247\u6807\u9898"})),l.a.createElement(j.a,null,l.a.createElement(k.a,{span:12},l.a.createElement(v.a.Item,{label:"\u5361\u7247\u7c7b\u578b",labelCol:{span:6},wrapperCol:{span:18},name:"type",rules:[{required:!0,message:"\u4e0d\u53ef\u4e3a\u7a7a"}]},l.a.createElement(C.a,{placeholder:"\u8bf7\u9009\u62e9\u6216\u589e\u52a0\u5361\u7247\u7c7b\u578b",dropdownRender:function(e){return l.a.createElement("div",null,e,l.a.createElement(w.a,{style:{margin:"4px 0"}}),l.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",padding:"8px"}},l.a.createElement(O.a,{style:{flex:"auto",height:"24px"},value:y,onChange:function(e){b(e.target.value)},onKeyDown:function(e){e.stopPropagation()},onPressEnter:function(e){J(),e.stopPropagation()}}),l.a.createElement("a",{style:{flex:"none",display:"block",cursor:"pointer",paddingLeft:"8px"},onClick:function(){J()}},l.a.createElement(S.a,null)," \u65b0\u589e\u9879")))}},K.map((function(e){return l.a.createElement(C.a.Option,{key:e,value:e},e)}))))),l.a.createElement(k.a,{span:12},l.a.createElement(v.a.Item,{label:"\u5361\u7247\u6807\u7b7e",labelCol:{span:6},wrapperCol:{span:18},name:"tags"},l.a.createElement(C.a,{mode:"multiple",placeholder:"\u8bf7\u9009\u62e9\u6216\u589e\u52a0\u591a\u4e2a\u5361\u7247\u6807\u7b7e",dropdownRender:function(e){return l.a.createElement("div",null,e,l.a.createElement(w.a,{style:{margin:"4px 0"}}),l.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",padding:8}},l.a.createElement(O.a,{style:{flex:"auto",height:"24px"},value:B,onChange:function(e){D(e.target.value)},onKeyDown:function(e){e.stopPropagation()},onPressEnter:function(e){U(),e.stopPropagation()}}),l.a.createElement("a",{style:{flex:"none",paddingLeft:"8px",display:"block",cursor:"pointer"},onClick:function(){U()}},l.a.createElement(S.a,null)," \u65b0\u589e\u9879")))}},H.map((function(e){return l.a.createElement(C.a.Option,{key:e,value:e},e)})))))),l.a.createElement(v.a.Item,{wrapperCol:{span:24},name:"content"},l.a.createElement(I,{placeholder:"\u8bf7\u8f93\u5165\u5361\u7247\u5185\u5bb9",contentStyle:{height:"200px",fontSize:"14px"}})))))},L=(a(441),function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),i=Object(s.a)(r,2),o=i[0],u=i[1],m=Object(n.useState)(!0),p=Object(s.a)(m,2),d=p[0],g=p[1],h=Object(n.useContext)(f),v=h.activeKey,x=h.selectType,O=h.selectTag,j=h.searchSelectId,k=h.showCards,C=h.removeCard,w=h.changeMenus;Object(n.useEffect)((function(){x&&c(0)}),[v,x,O,j]),Object(n.useEffect)((function(){if(k){var e=a;a>=k.length&&(e=Math.max(k.length-1,0),c(e)),u(k[e])}else u(null)}),[k,a]);var S=function(e,t){c((function(a){var n=a,l=k.length;return t?n=e?l-1:0:e?++n>=l&&(n=0):--n<0&&(n=Math.max(l-1,0)),n}))},T=Object(n.useRef)();return T.current={changeIndex:S,changeMenus:w},Object(n.useEffect)((function(){var e=function(e){switch(e.keyCode){case 37:T.current.changeIndex(!1,!1);break;case 38:T.current.changeMenus(!1);break;case 39:T.current.changeIndex(!0,!1);break;case 40:T.current.changeMenus(!0)}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),l.a.createElement("div",{style:{width:"100%",height:"100%"},ref:T},o?l.a.createElement("div",{className:"cardBox"},l.a.createElement("div",{className:"typeCard"},l.a.createElement("div",{className:"cardBtnBox"},l.a.createElement(W,{oldCard:o}),l.a.createElement(E.a,{title:"\u786e\u8ba4\u5220\u9664\u672c\u5361\u7247\u5417\uff1f",onConfirm:function(){C(o)},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},l.a.createElement(B.a,{style:{color:"red"}}))),l.a.createElement("div",{className:"cardHeader"},l.a.createElement("span",{className:"title"},o.title),l.a.createElement("span",{className:"type"},l.a.createElement("span",{style:{background:"#1890ff",color:"#ffffff",padding:"0px 3px"}},o.type),(o.tags||[]).map((function(e){return l.a.createElement("span",{key:e,style:{background:"#20A162",color:"#ffffff",marginLeft:"5px",padding:"0px 3px"}},e)})))),l.a.createElement("div",{className:"cardContent"},d?l.a.createElement("span",{className:"content"},l.a.createElement("div",{className:"braft-output-content",dangerouslySetInnerHTML:{__html:o.content}})):l.a.createElement("div",{className:"btnBox"},l.a.createElement(y.a,{type:"link",onClick:function(){g(!0)}},"\u663e\u793a\u5185\u5bb9")))),l.a.createElement("div",{className:"typeBtnBox",style:{justifyContent:"search"==v?"flex-end":"space-between"}},"search"!=v?l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{icon:l.a.createElement(D.a,null),onClick:function(){S(!1,!0)}},"\u5f00\u5934"),l.a.createElement(y.a,{icon:l.a.createElement(M.a,null),onClick:function(){S(!1,!1)}},"\u524d\u4e00\u5f20\uff08\u5de6\u952e\uff09"),l.a.createElement("span",{style:{lineHeight:"32px",fontWeight:"bold"}},"(",a+1,"/",k.length,")"),l.a.createElement(y.a,{icon:l.a.createElement(P.a,null),onClick:function(){S(!0,!1)}},"\u540e\u4e00\u5f20\uff08\u53f3\u952e\uff09"),l.a.createElement(y.a,{icon:l.a.createElement(K.a,null),onClick:function(){S(!0,!0)}},"\u7ed3\u5c3e")):"",l.a.createElement(N,null))):l.a.createElement("div",null,l.a.createElement(b.a,{icon:l.a.createElement(A.a,null),title:"\u6682\u65e0\u5361\u7247",extra:l.a.createElement(N,{noBlock:!0})}),","))}),H=window.localStorage;var q={get:function(e){if(e){var t=H.getItem(e);try{t&&(t=JSON.parse(t))}catch(a){}return t}},set:function(e,t){e&&(t&&"object"===typeof t&&(t=JSON.stringify(t)),H.setItem(e,t))},remove:function(e){e&&H.removeItem(e)}},z=a(210),V=a.n(z),J=function(e){var t=Object(n.useContext)(f),a=t.searchSelectId,c=t.setSearchSelectId,r=t.showMenus,i=Object(n.useContext)(f).setSearchText;return Object(n.useEffect)((function(){if(a){var e=!1;r.some((function(t){if(t.key===a)return e=!0,!0})),e||c(null)}else r.length&&c(r[0].key)}),[r]),l.a.createElement(l.a.Fragment,null,l.a.createElement(O.a.Search,{size:"small",style:{margin:"10px 0px"},placeholder:"\u8bf7\u8f93\u5165\u5f85\u641c\u7d22\u6807\u9898",onSearch:function(e){return i(e)},enterButton:!0}),l.a.createElement(d.a,{mode:"inline",selectedKeys:[a],style:{height:"100%",borderRight:0},onClick:function(e){var t=e.key;c(t)}},r.length?l.a.createElement(l.a.Fragment,null,r.map((function(e){return l.a.createElement(d.a.Item,{key:e.key,style:{height:"24px",lineHeight:"24px"}},e.value)}))):l.a.createElement("div",{style:{textAlign:"center",marginTop:"20px",color:"#999999"}},"\u65e0\u5339\u914d\u5361\u7247")))},U=function(e){var t=Object(n.useContext)(f),a=t.selectTag,c=t.setSelectTag,r=t.showMenus;return l.a.createElement(d.a,{mode:"inline",selectedKeys:[a],style:{height:"100%",borderRight:0},onClick:function(e){var t=e.key;c(t)}},l.a.createElement("div",{style:{textAlign:"center",marginTop:"20px",marginBottom:"20px",color:"#999999"}},"\u4f7f\u7528\u4e0a\u3001\u4e0b\u952e\u4ee5\u5feb\u901f\u5207\u6362"),r.map((function(e){return l.a.createElement(d.a.Item,{key:e.key,style:{height:"24px",lineHeight:"24px"}},"".concat(e.key," (").concat(e.total,")"))})))},_=a(462),Y=function(e){var t=e.color,a=e.url,n=e.name,c=e.openWebview;return l.a.createElement("div",{className:"utilItem",onClick:function(){if(a){var e=a;"http"!==a.substring(0,4)&&(e="http://"+e),c({name:n,url:e})}}},l.a.createElement(_.a,{size:64,style:{margin:"0 auto",backgroundColor:t||"#1890ff"}},n))},$=function(){var e=Object(n.useContext)(f),t=e.utils,a=e.openWebview;return l.a.createElement("div",{style:{height:"100%",padding:"10px"}},l.a.createElement(j.a,null,t.length?l.a.createElement(l.a.Fragment,null,t.map((function(e){return l.a.createElement(k.a,{span:12},l.a.createElement(Y,Object.assign({},e,{openWebview:a})))}))):l.a.createElement("div",{style:{textAlign:"center",marginTop:"20px",width:"100%",color:"#999999"}},"\u6682\u65e0\u53ef\u7528\u5de5\u5177")))},G=a(464),Q=a(473),X=a(474),Z=[{value:"#1890ff",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#1890ff",marginTop:"3px"}})},{value:"#ED5A65",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#ED5A65",marginTop:"3px"}})},{value:"#EC7696",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#EC7696",marginTop:"3px"}})},{value:"#AD6598",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#AD6598",marginTop:"3px"}})},{value:"#815C94",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#815C94",marginTop:"3px"}})},{value:"#1BA784",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#1BA784",marginTop:"3px"}})},{value:"#96C24E",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#96C24E",marginTop:"3px"}})},{value:"#FFC90C",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#FFC90C",marginTop:"3px"}})},{value:"#FFA60F",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#FFA60F",marginTop:"3px"}})},{value:"#F97D1C",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#F97D1C",marginTop:"3px"}})},{value:"#603D30",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#603D30",marginTop:"3px"}})},{value:"#847C74",label:l.a.createElement("div",{style:{width:"80px",height:"16px",background:"#847C74",marginTop:"3px"}})}],ee=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useContext)(f),i=r.utils,o=r.saveUtils,u=v.a.useForm(),m=Object(s.a)(u,1)[0];Object(n.useEffect)((function(){a&&m.resetFields()}),[a]);return l.a.createElement("div",{style:{width:"100%",height:"100%"}},l.a.createElement("div",null,l.a.createElement(b.a,{icon:l.a.createElement(Q.a,null),title:"\u70b9\u51fb\u83dc\u5355\u680f\u5de5\u5177\u4ee5\u8df3\u8f6c",extra:[l.a.createElement(y.a,{type:"primary",key:"console",onClick:function(){return c(!0)}},"\u5de5\u5177\u7ba1\u7406")]})),l.a.createElement(x.a,{title:"\u5de5\u5177\u7ba1\u7406",visible:a,onOk:function(){m.validateFields().then((function(){var e=m.getFieldsValue();o(e),c(!1)})).catch((function(){}))},onCancel:function(){return c(!1)},forceRender:!0,style:{width:"100%",height:"100%"}},l.a.createElement(v.a,{className:"utilManage",initialValues:{utils:i},size:"small",form:m},l.a.createElement(v.a.List,{name:"utils"},(function(e,t){var a=t.add,n=t.remove;return l.a.createElement("div",{style:{height:"420px"}},l.a.createElement("div",{style:{maxHeight:"370px",overflowY:"auto"}},e.map((function(e){return l.a.createElement(G.b,{key:e.key,style:{display:"flex"},align:"start"},l.a.createElement(v.a.Item,Object.assign({},e,{label:"\u5de5\u5177\u540d\u79f0",name:[e.name,"name"],fieldKey:[e.fieldKey,"name"],rules:[{required:!0,message:"\u4e0d\u53ef\u4e3a\u7a7a"}]}),l.a.createElement(O.a,{style:{width:"120px"},placeholder:"\u8bf7\u8f93\u5165"})),l.a.createElement(v.a.Item,Object.assign({},e,{label:"\u94fe\u63a5\u5730\u5740",name:[e.name,"url"],fieldKey:[e.fieldKey,"url"],rules:[{required:!0,message:"\u4e0d\u53ef\u4e3a\u7a7a"}]}),l.a.createElement(O.a,{style:{width:"320px"},placeholder:"\u8bf7\u8f93\u5165"})),l.a.createElement(v.a.Item,Object.assign({},e,{label:"\u56fe\u6807\u989c\u8272",name:[e.name,"color"],fieldKey:[e.fieldKey,"color"]}),l.a.createElement(C.a,{style:{width:"120px"},placeholder:"\u8bf7\u9009\u62e9",options:Z})),l.a.createElement(X.a,{onClick:function(){n(e.name)}}))}))),l.a.createElement(v.a.Item,null,l.a.createElement(y.a,{type:"dashed",onClick:function(){a()},block:!0},l.a.createElement(S.a,null)," \u65b0\u589e\u5de5\u5177")))})))))},te=(m.a.Header,m.a.Footer,m.a.Sider),ae=m.a.Content;var ne=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({types:[],tags:[],cards:[]}),d=Object(s.a)(r,2),E=d[0],y=d[1],b=Object(n.useState)([]),v=Object(s.a)(b,2),x=v[0],O=v[1],j=Object(n.useState)("type"),k=Object(s.a)(j,2),C=k[0],w=k[1],S=Object(n.useState)("\u5168\u90e8"),T=Object(s.a)(S,2),F=T[0],I=T[1],N=Object(n.useState)("\u5168\u90e8"),B=Object(s.a)(N,2),D=B[0],M=B[1],P=Object(n.useState)(null),K=Object(s.a)(P,2),A=K[0],R=K[1],W=Object(n.useState)(null),H=Object(s.a)(W,2),z=H[0],_=H[1];Object(n.useEffect)((function(){var e=q.get("cardData2");e&&y(e);var t=q.get("utilData2");t&&O(t)}),[]);var Y=Object(n.useMemo)((function(){var e=[],t=(E.types,E.tags,E.cards);return"type"===C?"\u5168\u90e8"===F?e=Object(i.a)(t):t.map((function(t){t.type===F&&e.push(t)})):"tag"===C?"\u5168\u90e8"===D?e=Object(i.a)(t):t.map((function(t){t.tags&&t.tags.indexOf(D)>-1&&e.push(t)})):"search"===C&&z&&t.some((function(t){if(t.id===z)return e.push(t),!0})),e}),[E,C,F,D,A,z]),G=Object(n.useMemo)((function(){var e=[],t=E.types,a=E.tags,n=E.cards;if("type"===C){if(t.length){var c={};t.map((function(e){c[e]=0})),n.map((function(e){"number"===typeof c[e.type]&&c[e.type]++})),t.map((function(t){e.push({key:t,total:c[t]})}))}e.unshift({key:"\u5168\u90e8",total:n.length})}else if("tag"===C){if(a.length){var r={};a.map((function(e){r[e]=0})),n.map((function(e){e.tags&&e.tags.map((function(e){"number"===typeof r[e]&&r[e]++}))})),a.map((function(t){e.push({key:t,total:r[t]})}))}e.unshift({key:"\u5168\u90e8",total:n.length})}else"search"===C&&A&&n.map((function(t){if(t.title.indexOf(A)>-1){var a=t.title.split(A);e.unshift({key:t.id,value:l.a.createElement("span",null,a.map((function(e,t){return t===a.length-1?e:l.a.createElement(l.a.Fragment,null,e,l.a.createElement("span",{style:{color:"#1890ff"}},A))})))})}}));return e}),[E,C,A]),Q={selectType:F,setSelectType:I,selectTag:D,setSelectTag:M,searchText:A,setSearchText:R,searchSelectId:z,setSearchSelectId:_,activeKey:C,types:E.types,tags:E.tags,showCards:Y,showMenus:G,utils:x,addCard:function(e){var t=Object(o.a)({},E),a=e.type;e.id=V.a.genV1().toString(),-1===t.types.indexOf(a)&&t.types.push(a),e.tags&&e.tags.map((function(e){-1===t.tags.indexOf(e)&&t.tags.push(e)})),t.cards.push(Object(o.a)({},e)),q.set("cardData2",t),y(t)},editCard:function(e){var t=Object(o.a)({},E),a=e.id,n=e.oldType,l=Object(i.a)(e.oldTags||[]);t.cards.some((function(n){if(n.id===a)return n.title=e.title,n.type=e.type,n.tags=e.tags,e.tags&&e.tags.map((function(e){-1===t.tags.indexOf(e)&&t.tags.push(e)})),n.content=e.content,!0}));var c=!1;if(t.cards.some((function(e){if(e.type===n)return c=!0,!0})),!c){var r=t.types.indexOf(n);r>-1&&t.types.splice(r,1)}l&&l.map((function(e){var a=!1;if(t.cards.some((function(t){if(t.tags&&t.tags.indexOf(e)>-1)return a=!0,!0})),!a){var n=t.tags.indexOf(e);n>-1&&t.tags.splice(n,1)}})),q.set("cardData2",t),y(t)},removeCard:function(e){var t=Object(o.a)({},E),a=e.type,n=Object(i.a)(e.tags||[]),l=t.cards,c=-1;if(l.some((function(t,a){if(t.id===e.id)return c=a,!0})),c>-1){l.splice(c,1);var r=!1;if(l.map((function(e){if(e.type===a)return r=!0,!0})),!r){var s=t.types.indexOf(a);s>-1&&t.types.splice(s,1),I("\u5168\u90e8")}n&&(n.map((function(e){var a=!1;if(t.cards.some((function(t){if(t.tags&&t.tags.indexOf(e)>-1)return a=!0,!0})),!a){var n=t.tags.indexOf(e);n>-1&&t.tags.splice(n,1)}})),M("\u5168\u90e8"))}q.set("cardData2",t),y(t)},changeMenus:function(e){if("type"===C){var t=-1;G.some((function(e,a){if(e.key===F)return t=a,!0})),t>-1&&(e?(t++,t%=G.length):--t<0&&(t+=G.length),I(G[t].key))}else if("tag"===C){var a=-1;G.some((function(e,t){if(e.key===D)return a=t,!0})),a>-1&&(e?(a++,a%=G.length):--a<0&&(a+=G.length),M(G[a].key))}else if("search"===C){var n=-1;G.some((function(e,t){if(e.key===z)return n=t,!0})),n>-1&&(e?(n++,n%=G.length):--n<0&&(n+=G.length),_(G[n].key))}},saveUtils:function(e){var t=e.utils;q.set("utilData2",t),O(t)},openWebview:function(e){q.set("webviewInfo",e),u.ipcRenderer.send("open-webview")}};return l.a.createElement(f.Provider,{value:Q},l.a.createElement("div",{className:"App"},l.a.createElement(m.a,{style:{height:"100%"}},l.a.createElement(te,{collapsed:a,collapsedWidth:"0",className:"rollingBox",width:200,style:{height:"100%",background:"#ffffff",overflow:"hidden"}},l.a.createElement(p.a,{activeKey:C,type:"card",size:"small",onChange:w},l.a.createElement(p.a.TabPane,{tab:"\u5206\u7c7b",key:"type"},l.a.createElement("div",{style:{height:"calc(100vh - 34px)",padding:"0px 10px"},className:"rollingBox"},l.a.createElement(g,null))),l.a.createElement(p.a.TabPane,{tab:"\u6807\u7b7e",key:"tag"},l.a.createElement("div",{style:{height:"calc(100vh - 34px)",padding:"0px 10px"},className:"rollingBox"},l.a.createElement(U,null))),l.a.createElement(p.a.TabPane,{tab:"\u67e5\u8be2",key:"search"},l.a.createElement("div",{style:{height:"calc(100vh - 34px)",padding:"0px 10px"},className:"rollingBox"},l.a.createElement(J,null))),l.a.createElement(p.a.TabPane,{tab:"\u5de5\u5177",key:"util"},l.a.createElement("div",{style:{height:"calc(100vh - 34px)",padding:"0px 10px"},className:"rollingBox"},l.a.createElement($,null))))),l.a.createElement(m.a,null,l.a.createElement(ae,{style:{position:"relative"}},l.a.createElement("div",{className:"collapsedBtn"},l.a.createElement(h.a,{onClick:function(){c((function(e){return!e}))}})),"util"===C?l.a.createElement(ee,null):l.a.createElement(L,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[219,1,2]]]);
//# sourceMappingURL=main.62384d07.chunk.js.map